<ho-form>
  <!-- HEADER -->
  <ho-header>
    <ho-row>
      <ho-cell ho-width="40%">
        <img id="logo" src="../shared/atlas-copco-logo.svg" alt="">
      </ho-cell>
      <ho-cell ho-width="60%" ho-text-align="right">
        <div id="header-title">{{text('VISIT_REPORT')}}</div>
        <div ho-page-number ho-text-align="right"></div>
      </ho-cell>
    </ho-row>
    <ho-row ho-bordered ho-class="header header-left-margin-hack">
      <ho-cell ho-width="100%"><b>{{text('CUSTOMER_DETAILS')}}</b></ho-cell>
    </ho-row>
    <ho-row ho-bordered ho-class="header header-left-margin-hack">
      <ho-cell ho-width="100%">
        <ho-row>
          <ho-cell ho-width="45%">
            <div><b>{{ tag('CUST_NAME') }}</b></div>
            <div>{{ tag('CUST_ADDRESS_1') }}</div>
            <div>{{ tag('CUST_ADDRESS_2') }}</div>
          </ho-cell>
          <ho-cell ho-width="25%">
            <div><b>{{text('CONTACT')}}:</b></div>
            <div><b>{{text('REPORT_DATE')}}:</b></div>
          </ho-cell>
          <ho-cell ho-width="30%">
            <div>{{ tag('CUST_CONTACT') }}</div>
            <div>{{ date('REPORT_DATE') }}</div>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
  </ho-header>
  <!-- END: HEADER -->
  <!-- BODY -->
  <ho-body>
    <ho-row ho-avoid-break *ngIf="!INPUT.getVar('HIDE_SECTION').has('EQUIPMENT')">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('EQUIPMENT')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="20%"><b>{{text('EQUIPMENT')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('EQUI_ID') }}</ho-cell>
          <ho-cell ho-width="20%"><b>{{text('RUNNING_HOURS')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ +tag('EQUI_RUNNING_HOURS') > 0? tag('EQUI_RUNNING_HOURS') + ' ' + text('HOURS') : '' }}
          </ho-cell>
        </ho-row>
        <ho-row>
          <ho-cell ho-width="20%"><b>{{text('SERIAL_NUMBER')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('EQUI_SERIAL_NUMBER') }}</ho-cell>
          <ho-cell ho-width="20%"><b>{{text('LOAD_HOURS')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ +tag('EQUI_LOAD_HOURS') > 0? tag('EQUI_LOAD_HOURS') + ' ' + text('HOURS') : '' }}</ho-cell>
        </ho-row>
        <ho-row>
          <ho-cell ho-width="20%"><b>{{text('VISIT_DATE')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('VISIT_DATE') }}</ho-cell>
          <ho-cell ho-width="20%"><b>{{text('ORDER_NUMBER')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('ORDER_NUMBER') }}</ho-cell>
        </ho-row>
        <ho-row>
          <ho-cell ho-width="20%"><b>{{text('CONTRACT_NUMBER')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('CONTRACT_NUMBER') }}</ho-cell>
          <ho-cell ho-width="20%"><b>{{text('PO_NUMBER')}}:</b></ho-cell>
          <ho-cell ho-width="30%">{{ tag('PO_NUMBER') }}</ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer" *ngIf="!INPUT.getVar('HIDE_SECTION').has('EQUIPMENT')"></div>
    <ho-row ho-avoid-break *ngIf="!INPUT.getVar('HIDE_SECTION').has('WORK_COMMENTS')">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('WORK_COMMENTS')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="100%" class="allow-break-lines">
            {{ tag('WORK_COMMENTS') }}
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer" *ngIf="!INPUT.getVar('HIDE_SECTION').has('WORK_COMMENTS')"></div>
    <ho-row ho-avoid-break
            *ngIf="!INPUT.getVar('HIDE_SECTION').has('NEXT_VISIT')">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('NEXT_VISIT')}}</b></ho-section-header>
        <ho-row>
          <ho-row>
            <ho-cell ho-width="100%"><b class="text-underlined">{{text('NEXT_RECOMMENDED_SERVICE_1')}}{{tag('NEXT_VISIT_TYPE')}}{{text('NEXT_RECOMMENDED_SERVICE_2')}} {{tag('NEXT_VISIT_DATE')}}</b></ho-cell>
          </ho-row>
          <ho-row>
            <ho-cell ho-width="100%"><b>{{text('FOLLOWING_WORK_IS')}}</b></ho-cell>
          </ho-row>
          <ho-cell ho-width="100%">
            <table class="table-ac">
              <thead>
              <tr>
                <th width="70%"></th>
                <th width="30%">{{text('ESTIMATED_WORK_HOUR')}}</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td width="70%">{{tag('NEXT_VISIT_HEADLINE')}}</td>
                <td width="30%">{{tag('NEXT_VISIT_HOURS')}}</td>
              </tr>
              </tbody>
            </table>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer"
         *ngIf="!INPUT.getVar('HIDE_SECTION').has('NEXT_VISIT')"></div>
    <ho-row ho-avoid-break
            *ngIf="!INPUT.getVar('HIDE_SECTION').has('TIME_CONFIRMATION') && INPUT.getVarArray('TIME_CONFIRMATION_ENTRIES').length > 0">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('TIME_CONFIRMATION')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="100%">
            <table class="table-ac">
              <thead>
              <tr>
                <th width="15%">{{text('DATE')}}</th>
                <th width="35%">{{text('SERVICE_ENGINEER')}}</th>
                <th width="35%">{{text('ACTIVITY_TYPE')}}</th>
                <th width="15%">{{text('HOUR_KM')}}</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let entry of INPUT.getVarArray('TIME_CONFIRMATION_ENTRIES')">
                <td>{{ entry.tag('DATE') }}</td>
                <td>{{ entry.tag('SERVICE_ENG_NAME') }}</td>
                <td>{{ entry.tag('ACTIVITY_TYPE') }}</td>
                <td>{{ entry.tag('EFFORT') }}</td>
              </tr>
              </tbody>
            </table>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer"
         *ngIf="!INPUT.getVar('HIDE_SECTION').has('TIME_CONFIRMATION') && INPUT.getVarArray('TIME_CONFIRMATION_ENTRIES').length > 0"></div>
    <ho-row ho-avoid-break
            *ngIf="!INPUT.getVar('HIDE_SECTION').has('MATERIAL_CONFIRMATION') && INPUT.getVarArray('MATERIAL_CONFIRMATION_ENTRIES').length > 0">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('MATERIAL_CONFIRMATION')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="100%">
            <table class="table-ac">
              <thead>
              <tr>
                <th width="15%">{{text('PART_NUMBER')}}</th>
                <th width="70%">{{text('PART_DESCRIPTION')}}</th>
                <th width="15%">{{text('QUANTITY_UNIT')}}</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let entry of INPUT.getVarArray('MATERIAL_CONFIRMATION_ENTRIES')">
                <td>{{ entry.tag('PART_NUMBER') }}</td>
                <td>{{ entry.tag('PART_DESC') }}</td>
                <td>{{ round(entry.tag('QUANTITY')) }}</td>
              </tr>
              </tbody>
            </table>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer"
         *ngIf="!INPUT.getVar('HIDE_SECTION').has('MATERIAL_CONFIRMATION') && INPUT.getVarArray('MATERIAL_CONFIRMATION_ENTRIES').length > 0"></div>
    <ho-row ho-avoid-break
            *ngIf="!INPUT.getVar('HIDE_SECTION').has('WORK_DONE') && INPUT.getVarArray('WORK_DONE_ENTRIES').length > 0">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('WORK_DONE')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="100%">
            <table class="table-ac">
              <thead>
              <tr>
                <th width="3%"></th>
                <th width="47%">{{text('OPERATIONS')}}</th>
                <th width="50%">{{text('COMMENTS')}}</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let entry of INPUT.getVarArray('WORK_DONE_ENTRIES')">
                <!--<td><input type="checkbox" [ngModel]="entry.tag('DONE') === 'true'" disabled readonly></td>-->
                <td>
                  <ho-checkbox checked="{{ entry.tag('DONE')}}" disabled></ho-checkbox>
                </td>
                <td>{{ entry.tag('DESC') }}</td>
                <td> <span *ngIf="entry.tag('COMMENT') == '' "> - </span> {{ entry.tag('COMMENT') }}</td>
              </tr>
              </tbody>
            </table>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer"
         *ngIf="!INPUT.getVar('HIDE_SECTION').has('WORK_DONE') && INPUT.getVarArray('WORK_DONE_ENTRIES').length > 0"></div>
    <ho-row ho-avoid-break
            *ngIf="!INPUT.getVar('HIDE_SECTION').has('MEASUREMENT_POINTS') && INPUT.getVarArray('MEASUREMENT_POINTS_ENTRIES').length > 0">
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('MEASUREMENT_POINTS')}}</b></ho-section-header>
        <ho-row>
          <ho-cell ho-width="100%">
            <table class="table-ac">
              <thead>
              <tr>
                <th width="38%">{{text('COUNTER')}}</th>
                <th width="20%" colspan="2">{{text('READING_AFTER_SERVICE')}}</th>
                <th width="15%" colspan="2">{{text('BEFORE_SERVICE')}}</th>
                <th width="27%" colspan="2">{{text('FROM_LAST_VISIT_ON')}} <span class="measurement-last-visit">{{ tag('MEASUREMENT_POINTS_LAST_VISIT') }}</span></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let entry of INPUT.getVarArray('MEASUREMENT_POINTS_ENTRIES')">
                <td>{{ entry.tag('COUNTER') }}</td>
                <td class="text-align-right">{{ entry.tag('READ_AFTER') }}</td>
                <td>{{ entry.tag('READ_AFTER') ? entry.tag('READ_UNIT') : '' }}</td>
                <td class="text-align-right">{{ entry.tag('READ_BEFORE') }}</td>
                <td>{{ entry.tag('READ_BEFORE') ? entry.tag('READ_UNIT') : '' }}</td>
                <td class="text-align-right">{{ entry.tag('READ_LAST_VISIT') }}</td>
                <td>{{ entry.tag('READ_LAST_VISIT') ? entry.tag('READ_UNIT') : '' }}</td>
              </tr>
              </tbody>
            </table>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
    <div class="spacer"></div>
    <ho-row ho-avoid-break>
      <ho-cell ho-width="100%">
        <ho-section-header><b>{{text('AUTHORISATION_TO_CARRY')}}</b></ho-section-header>
        <ho-row ho-bordered>
          <!--<ho-cell ho-width="100%">
            <b>{{text('NOTES')}}:</b>
            {{text('CUSTOMER_WILL_AGREE')}}
          </ho-cell>-->
        </ho-row>
        <div class="spacer"></div>
        <ho-row ho-bordered>
          <ho-cell ho-width="50%"><b>{{text('CUSTOMER_CONFIRMATION')}}</b></ho-cell>
          <ho-cell ho-width="50%"><b>{{text('SERVICE_ENGINEER_CONFIRMATION')}}</b></ho-cell>
        </ho-row>
        <ho-row ho-bordered>
          <ho-cell ho-width="50%">
            <ho-signature width="220px" height="90px" (onEnd)="onCustomerSignatureEnd()" (onClear)="onCustomerSignatureClear()"></ho-signature>
            <!--<img class="signature-image"-->
                 <!--[attr.src]="INPUT.getVar('CUST_CONFIRMATION').tag('SIGN_DATA')"-->
                 <!--alt="signature-customer">-->
            <div class="ho-no-print signature-name-input"><label for="customer-signature-name">{{text('ENTER_YOUR_NAME')}}:</label><input id="customer-signature-name" type="text" placeholder="{{text('PLEASE_ENTER_YOUR')}}" [(ngModel)]="customerSignatureName"></div>
            <div class="signature-comment">{{text('SIGNED_BY')}} {{ customerSignatureName }} {{text('AT')}} {{ customerSignatureDate }}
            </div>
            <div class="signature-comment">{{text('BEING_DULY_AUTHORISED')}}</div>
            <div class="spacer"></div>
          </ho-cell>
          <ho-cell ho-width="50%">
            <ho-signature width="220px" height="90px" (onEnd)="onTechSignatureEnd()" (onClear)="onTechSignatureClear()"></ho-signature>
            <!--<img class="signature-image"-->
                 <!--[attr.src]="INPUT.getVar('SERV_ENG_CONFIRMATION').tag('SIGN_DATA')"-->
                 <!--alt="signature-service">-->
            <div class="signature-comment">{{text('SIGNED_BY')}} {{ INPUT.getVar('SERV_ENG_CONFIRMATION').tag('SIGN_NAME') }} {{text('AT')}} {{ techSignatureDate }}</div>
          </ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
  </ho-body>
  <!-- END: BODY -->
  <!-- FOOTER -->
  <ho-footer>
    <ho-row>
      <ho-cell ho-width="60px">
        <!--<img id="quality-logo" [attr.src]="tag('FOOTER_QUALITY_LOGO')" alt="">-->
        <img id="quality-logo" src="../shared/lloyds-register-logo.svg" alt="">
      </ho-cell>
      <ho-cell ho-width="700px">
        <ho-row ho-class="footer-title-section">
          <ho-cell ho-width="100%">{{text('COMPANY_GROUP_NAME') }}</ho-cell>
        </ho-row>
        <ho-row class="footer-content-section">
          <ho-cell ho-width="25%">{{text('COMPANY_LEGAL_NAME') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('VISITORS_ADDRESS')}}</ho-cell>
          <ho-cell ho-width="25%">{{text('TELEPHONE')}}{{ text('FOOTER_CENTER_LINE1') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('FOOTER_ADDITIONAL_INFO_1') }}</ho-cell>
        </ho-row>
        <ho-row class="footer-content-section">
          <ho-cell ho-width="25%">{{text('COMPANY_ADDRESS_1') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('VISITOR_ADDRESS_1') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('FAX')}}{{ text('COMPANY_FAX') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('FOOTER_ADDITIONAL_INFO_2') }}</ho-cell>
        </ho-row>
        <ho-row class="footer-content-section">
          <ho-cell ho-width="25%">{{text('COMPANY_ADDRESS_2') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('VISITOR_ADDRESS_2') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('COMPANY_URL') }}</ho-cell>
          <ho-cell ho-width="25%">{{text('FOOTER_ADDITIONAL_INFO_3') }}</ho-cell>
        </ho-row>
      </ho-cell>
    </ho-row>
  </ho-footer>
  <!-- END: FOOTER -->
</ho-form>
<p style="visibility: hidden;"> {{text('LANGUAGE')}}</p>
